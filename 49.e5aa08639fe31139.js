"use strict";(self.webpackChunkfuckgreggs=self.webpackChunkfuckgreggs||[]).push([[49],{8049:(me,C,r)=>{r.r(C),r.d(C,{HomeComponentModule:()=>ce});var g=r(6895),d=r(4416);function M(n,s,t,o,i,a,l){try{var c=n[a](l),p=c.value}catch(h){return void t(h)}c.done?s(p):Promise.resolve(p).then(o,i)}function b(n){return function(){var s=this,t=arguments;return new Promise(function(o,i){var a=n.apply(s,t);function l(p){M(a,o,i,l,c,"next",p)}function c(p){M(a,o,i,l,c,"throw",p)}l(void 0)})}}var e=r(8256),v=r(529),I=r(4766);let S=(()=>{class n{constructor(t){this.http=t}ping(){let t=class O{static getDefaultHeaders(){return new v.WM}}.getDefaultHeaders(),o=new v.LE;return this.http.get(`${I.N.normalServicesEndpoint}/system/ping`,{params:o,headers:t})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(v.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var f=r(433),T=r(4247),u=r(399),w=r(7261),_=r(4325),N=r(4004),Z=r(8271),k=r(5108);let L=(()=>{class n{constructor(t){this.http=t,this.placesEndpoint="https://maps.googleapis.com/maps/api/place",this.apiKey="AIzaSyBDWU0h5aK-6Y0e2jfMMui_IrvDAfE21gU"}setMap(t){this.map=t}populatePlaceDetails(t){this.getPlaceDetails(this.map,t.place_id).then(o=>{console.log("Got location details"),t.isOpen=o.opening_hours?.isOpen(),t.formattedPhoneNumber=o.formatted_phone_number,t.rating=Math.round(t.rating),console.log(o)})}getPlaceDetails(t,o){return new Promise(i=>{var a={placeId:o,fields:["type","url","formatted_phone_number","opening_hours","utc_offset_minutes","business_status"]};new google.maps.places.PlacesService(t).getDetails(a,(c,p)=>{p==google.maps.places.PlacesServiceStatus.OK&&i(c)})})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(v.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var A=r(6408),P=r(8639);function U(n,s){if(1&n&&(e.TgZ(0,"p",1),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.AsE(" ",t.placeResult.distanceMiles," (",t.placeResult.distanceTime," walk) ")}}function J(n,s){if(1&n&&(e.TgZ(0,"div",5),e._UZ(1,"p-rating",6),e.TgZ(2,"p"),e._uU(3),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.placeResult.rating)("readonly",!0)("cancel",!1),e.xp6(2),e.Oqu(t.placeResult.user_ratings_total)}}function F(n,s){if(1&n&&(e.TgZ(0,"p",1),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.placeResult.isOpen?"Open":"Closed"," ")}}function z(n,s){if(1&n&&(e.TgZ(0,"p",1),e._UZ(1,"i",7),e._uU(2),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.placeResult.formattedPhoneNumber," ")}}function q(n,s){if(1&n&&(e.TgZ(0,"p",1),e._UZ(1,"p-badge",8),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("value",t.placeResult.types[0])}}function E(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"p",9)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.getDetails())}),e.qZA()()}}function G(n,s){1&n&&(e.TgZ(0,"p"),e._uU(1,"No rating"),e.qZA())}let R=(()=>{class n{constructor(t){this.googleMapsService=t,this.gotDetails=!1}ngOnInit(){this.loadData()}loadData(){}getDetails(){this.googleMapsService.populatePlaceDetails(this.placeResult),this.gotDetails=!0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-location-info"]],inputs:{placeResult:"placeResult"},decls:10,vars:8,consts:[["class","m-0",4,"ngIf"],[1,"m-0"],["class","flex gap-2 align-items-center",4,"ngIf","ngIfElse"],["class","m-0 pt-3",4,"ngIf"],["noRating",""],[1,"flex","gap-2","align-items-center"],[3,"ngModel","readonly","cancel"],[1,"pi","pi-phone",2,"font-size","1rem"],["severity","secondary",3,"value"],[1,"m-0","pt-3"],["pButton","","type","button","label","more details...",1,"p-button-rounded","p-button-outlined","p-button-secondary",3,"click"]],template:function(t,o){if(1&t&&(e.YNc(0,U,2,2,"p",0),e.TgZ(1,"p",1),e._uU(2),e.qZA(),e.YNc(3,J,4,4,"div",2),e.YNc(4,F,2,1,"p",0),e.YNc(5,z,3,1,"p",0),e.YNc(6,q,2,1,"p",0),e.YNc(7,E,2,0,"p",3),e.YNc(8,G,2,0,"ng-template",null,4,e.W1O)),2&t){const i=e.MAs(9);e.Q6J("ngIf",o.placeResult.distanceMiles),e.xp6(2),e.hij(" ",o.placeResult.vicinity," "),e.xp6(1),e.Q6J("ngIf",o.placeResult.rating)("ngIfElse",i),e.xp6(1),e.Q6J("ngIf",null!=o.placeResult.isOpen),e.xp6(1),e.Q6J("ngIf",o.placeResult.formattedPhoneNumber),e.xp6(1),e.Q6J("ngIf","bakery"!=o.placeResult.types[0]),e.xp6(1),e.Q6J("ngIf",!o.gotDetails&&!o.placeResult.formattedPhoneNumber)}},dependencies:[g.O5,u.Hq,A.iG,f.JJ,f.On,P.Ct],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}.container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:stretch;flex-direction:column}header[_ngcontent-%COMP%]{flex:0 0 50px;display:flex;align-items:center;justify-content:flex-start}content[_ngcontent-%COMP%]{flex:1}footer[_ngcontent-%COMP%]{flex:0 0 50px;display:flex;align-items:center;justify-content:flex-end}"]}),n})();const Q=function(){return{"background-color":"#ffffff",color:"#ffffff"}};let Y=(()=>{class n{constructor(t,o){this.dialogConfig=t,this.dialogRef=o}ngOnInit(){this.loadData()}loadData(){this.locationOverview=this.dialogConfig.data,this.markerData=this.locationOverview.marker,this.placeData=this.locationOverview.result,this.placeData.photos?.at(0),console.log(this.locationOverview)}onCloseClicked(){this.dialogRef.close()}openInMaps(t){let o=t.geometry.location?.lat()??0,i=t.geometry.location?.lng()??0;return window.open(`https://www.google.com/maps/search/?api=1&query=${o},${i}&query_place_id=${t.place_id}`),!1}getDirections(){this.dialogRef.close(this.placeData)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.S),e.Y36(_.E7))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-location-overview-dialog"]],decls:16,vars:7,consts:[[1,"container","pt-3","pb-2","px-4"],[1,"gap-2"],["shape","square","size","large",3,"image"],[1,"font-bold","white-space-nowrap","flex-grow-1"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-rounded","p-button-text","p-button-plain",3,"click"],[3,"placeResult"],["icon","pi pi-directions","severity","info","label","Directions",3,"click"],["icon","pi pi-map","severity","info","label","Open in maps",3,"click"],["pButton","","pRipple","","type","button",1,"p-button-rounded","p-button-text","p-button-plain",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"header",1),e._UZ(2,"p-avatar",2),e.TgZ(3,"span",3),e._uU(4),e._UZ(5,"br"),e._uU(6),e.qZA(),e.TgZ(7,"button",4),e.NdJ("click",function(){return o.onCloseClicked()}),e.qZA()(),e.TgZ(8,"content"),e._UZ(9,"app-location-info",5),e.qZA(),e._UZ(10,"p-divider"),e.TgZ(11,"footer",1)(12,"p-button",6),e.NdJ("click",function(){return o.getDirections()}),e.qZA(),e.TgZ(13,"p-button",7),e.NdJ("click",function(){return o.openInMaps(o.placeData)}),e.qZA(),e.TgZ(14,"button",8),e.NdJ("click",function(){return o.onCloseClicked()}),e._uU(15," Ok"),e.qZA()()()),2&t&&(e.xp6(2),e.Akn(e.DdM(6,Q)),e.Q6J("image",o.placeData.icon),e.xp6(2),e.hij(" ",o.placeData.name,""),e.xp6(2),e.hij("",o.placeData.milesFromMe,"m (direct)"),e.xp6(3),e.Q6J("placeResult",o.placeData))},dependencies:[u.Hq,u.zx,Z.q,k.i,R],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}.container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:stretch;flex-direction:column}header[_ngcontent-%COMP%]{flex:0 0 50px;display:flex;align-items:center;padding-bottom:1rem;justify-content:flex-start}content[_ngcontent-%COMP%]{flex:1}footer[_ngcontent-%COMP%]{flex:0 0 50px;display:flex;align-items:center;justify-content:flex-end}"]}),n})();var x=r(1892),H=r(805),B=r(1740),D=r(2174),j=r(5054);function K(n,s){if(1&n&&e._UZ(0,"p-image",8),2&n){const t=e.oxw();let o;e.Q6J("src",null!==(o=t.photoUrl)&&void 0!==o?o:t.placeResult.icon)("preview",!0)}}const $=function(){return{"background-color":"#ffffff",color:"#ffffff"}};let V=(()=>{class n{constructor(){this.onGetDirections=new e.vpe,this.getPhotos=!1}ngOnInit(){this.loadData()}loadData(){if(this.getPhotos){let t=this.placeResult.photos?.at(0)??null;this.photoUrl=t?.getUrl()??""}}openInMaps(t){let o=t.geometry.location?.lat()??0,i=t.geometry.location?.lng()??0;return window.open(`https://www.google.com/maps/search/?api=1&query=${o},${i}&query_place_id=${t.place_id}`),!1}getDirections(){this.onGetDirections.emit(this.placeResult)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-location-overview"]],inputs:{placeResult:"placeResult"},outputs:{onGetDirections:"onGetDirections"},decls:15,vars:8,consts:[[1,"container","pt-3","pb-2","px-4"],[1,"gap-2"],["shape","circle","size","large",3,"image"],[3,"src","preview",4,"ngIf"],[1,"font-bold","white-space-nowrap","flex-grow-1"],[3,"placeResult"],["icon","pi pi-directions","severity","info","label","Directions",3,"click"],["icon","pi pi-map","severity","info","label","Open in maps",3,"click"],[3,"src","preview"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"header",1)(2,"p-avatar",2)(3,"span"),e.YNc(4,K,1,2,"p-image",3),e.qZA()(),e.TgZ(5,"span",4),e._uU(6),e._UZ(7,"br"),e._uU(8),e.qZA()(),e.TgZ(9,"content"),e._UZ(10,"app-location-info",5),e.qZA(),e._UZ(11,"p-divider"),e.TgZ(12,"footer",1)(13,"p-button",6),e.NdJ("click",function(){return o.getDirections()}),e.qZA(),e.TgZ(14,"p-button",7),e.NdJ("click",function(){return o.openInMaps(o.placeResult)}),e.qZA()()()),2&t&&(e.xp6(2),e.Akn(e.DdM(7,$)),e.Q6J("image",o.photoUrl?"":o.placeResult.icon),e.xp6(2),e.Q6J("ngIf",""!=o.photoUrl),e.xp6(2),e.hij(" ",o.placeResult.name,""),e.xp6(2),e.hij("",o.placeResult.milesFromMe,"m (direct) "),e.xp6(2),e.Q6J("placeResult",o.placeResult))},dependencies:[g.O5,u.zx,Z.q,k.i,j.E,R],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}.container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:stretch;flex-direction:column}header[_ngcontent-%COMP%]{flex:0 0 50px;display:flex;align-items:center;justify-content:flex-start;padding-bottom:1rem}content[_ngcontent-%COMP%]{flex:1}footer[_ngcontent-%COMP%]{flex:0 0 50px;display:flex;align-items:center;justify-content:flex-end}"]}),n})();function W(n,s){if(1&n&&e._UZ(0,"map-directions-renderer",11),2&n){const t=e.oxw();e.Q6J("directions",t.directionsResults)}}function X(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",12),e.NdJ("onClick",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.fuckGreggs())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",!t.mapReady||t.searchedThisLocation)}}function ee(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",13),e.NdJ("onClick",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.zoomAllResults())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",!t.mapReady||t.markers.length<=0)}}function te(n,s){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit;e.AsE(" ",t.milesFromMe,"m - ",t.name," ")}}function oe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"p-accordionTab"),e.YNc(1,te,1,2,"ng-template",14),e.TgZ(2,"app-location-overview",15),e.NdJ("onGetDirections",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.getDirectionsToResult(i))}),e.qZA()()}if(2&n){const t=s.$implicit;e.xp6(2),e.Q6J("placeResult",t)}}function ne(n,s){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.AsE(" ",t.directionDistanceMiles," (",t.directionDistanceTime," walk) ")}}let ie=(()=>{class n{constructor(t,o,i){this.dialogService=t,this.googleMapService=o,this.mapDirectionsService=i,this.mapReady=!1,this.searchedThisLocation=!1,this.center=new google.maps.LatLng(-37.11127917893532,-12.287298806127833),this.zoom=10,this.removePoiLabelsStyle={featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},this.mapOptions={clickableIcons:!1,styles:[this.removePoiLabelsStyle]},this.markers=[],this.results=[],this.activeLocationTab=0,this.directionDistanceMiles="",this.directionDistanceTime=""}ngOnInit(){}onMapReady(t){this.googleMapService.map=t,this.mapReady=!0,this.map=t,this.createSearchBox()}createSearchBox(){const t=document.getElementById("pac-input"),o=new google.maps.places.SearchBox(t);o.addListener("places_changed",()=>{const i=o.getPlaces()??[],a=new google.maps.LatLngBounds;if(0==i.length)return;let l=i[0];!l.geometry||!l.geometry.location||(!this.currentLocation||this.currentLocation.lat()!=l.geometry.location.lat()||this.currentLocation.lng()!=l.geometry.location.lng())&&(this.clearResults(),this.createHomeMarker(l.geometry.location),l.geometry.viewport?a.union(l.geometry.viewport):a.extend(l.geometry.location),this.map.fitBounds(a))})}createDirectionInfo(){const t=document.getElementById("direction-info");-1==this.map.controls[google.maps.ControlPosition.BOTTOM_CENTER].indexOf(t)&&this.map.controls[google.maps.ControlPosition.BOTTOM_CENTER].push(t)}getDirections(t,o){const i={destination:o,origin:t,travelMode:google.maps.TravelMode.WALKING};return this.mapDirectionsService.route(i).pipe((0,N.U)(a=>a.result))}getDirectionsToResult(t){this.getDirections(this.currentLocation,t.geometry.location).subscribe(o=>{if(o){let i=o.routes[0].legs[0];t.distanceMiles=((i.distance?.value??0)/1609).toFixed(1)+"m",t.distanceTime=i.duration?.text,this.openAccordionToResult(t),this.directionsResults=o,this.directionDistanceMiles=t.distanceMiles,this.directionDistanceTime=t.distanceTime??"",this.createDirectionInfo()}})}openAccordionToResult(t){this.activeLocationTab=this.results.indexOf(t)}fuckGreggs(){var t=this;return b(function*(){t.clearResults(),t.findNearbyLocation()})()}clearResults(){this.results=[],this.markers.forEach(t=>{t.setVisible(!1)}),this.markers=[]}findNearbyLocation(){var t=this;return b(function*(){let o={type:"bakery",location:t.currentLocation,radius:2500,openNow:!0};new google.maps.places.PlacesService(t.map).nearbySearch(o,(a,l)=>t.getPlacesResults(a,l))})()}findSpecificPlace(){let t={query:"greggs",locationBias:{radius:500,center:this.center},fields:["name","geometry","place_id"]};new google.maps.places.PlacesService(this.map).findPlaceFromQuery(t,(i,a)=>this.getPlacesResults(i,a))}getPlacesResults(t,o){if(t=t??[],console.log(t),t=this.filterResults(t),console.log("Filtered results",t),o===google.maps.places.PlacesServiceStatus.OK){for(var i=0;i<t.length;i++){let l=t[i],c=!1,p=l.geometry.location??new google.maps.LatLng(0,0);l.milesFromMe=this.getCrowFlyMiles(this.currentLocation,p),this.createMarker(l,c)}t.sort((l,c)=>(l.milesFromMe??9999)>(c.milesFromMe??9999)?1:-1);let a=t[0].geometry.location??new google.maps.LatLng(0,0);this.center=a,this.getDirectionsToResult(t[0])}this.searchedThisLocation=!0}filterResults(t){let o=["supermarket","grocery_or_supermarket"],i=[];return t.forEach(a=>{let l=!0;null!=a.types&&a.types.length>0&&a.types.some(p=>o.includes(p))&&(l=!1),l&&i.push(a)}),i}createMarker(t,o=!1){let l=t.name.toLowerCase().includes("greggs"),p={url:l?"assets/icons/middleFinger48.png":"assets/icons/location128.png",scaledSize:new google.maps.Size(48,48),labelOrigin:new google.maps.Point(24,48*1.15)};var m=new google.maps.Marker({map:this.map,position:t.geometry.location,title:t.name,icon:p,label:{text:l?" ":`${t.name}`,color:"black",fontFamily:"Arial",fontSize:"20px",fontWeight:"bold"},animation:google.maps.Animation.DROP,clickable:!0,cursor:l?"not-allowed":""});l||(m.addListener("click",y=>{this.markerClicked(m,t)}),m.addListener("mouseover",y=>{this.markerEntered(m,t)}),m.addListener("mouseout",y=>{this.markerExited(m,t)})),this.markers.push(m),l||(this.results.push(t),this.results.sort((y,pe)=>(y.milesFromMe??9999)>(pe.milesFromMe??9999)?1:-1))}markerClicked(t,o){console.log(`CLICKED ${o.name}`),this.openLocationOverviewDialog(t,o)}markerEntered(t,o){this.setIconSize(t,64)}markerExited(t,o){this.setIconSize(t,48)}setIconSize(t,o){let i=t.getIcon();i.scaledSize=new google.maps.Size(o,o),i.size=new google.maps.Size(o,o),i.labelOrigin=new google.maps.Point(o/2,1.15*o),t.setIcon(i)}openLocationOverviewDialog(t,o){this.dynamicDialogRef=this.dialogService.open(Y,{header:"",showHeader:!1,width:"50%",contentStyle:{overflow:"auto",padding:"0"},styleClass:"prime-dialog",baseZIndex:1e4,maximizable:!1,data:{marker:t,result:o}}),this.dynamicDialogRef.onClose.subscribe(i=>{i&&this.getDirectionsToResult(i)})}getCurrentLocation(){return new Promise(o=>{console.log("Requestion permission..."),navigator.geolocation&&navigator.geolocation.getCurrentPosition(i=>{if(i){if(null!=this.currentLocation&&this.currentLocation.lat()==i.coords.latitude&&this.currentLocation.lng()==i.coords.longitude)return o(!0);console.log("Got position",i),this.clearResults();let a=new google.maps.LatLng(i.coords.latitude,i.coords.longitude);return this.center=a,this.currentLocation=a,this.zoom=16,this.createHomeMarker(a),o(!0)}return console.log("Error getting position, no geolocation"),o(!1)},i=>(console.log("Unable to get position",i),o(!1)))})}createHomeMarker(t){if(this.currentLocation=t,this.searchedThisLocation=!1,this.currentLocationMarker)return void this.currentLocationMarker.setPosition(t);let a={url:"assets/icons/person128.png",scaledSize:new google.maps.Size(48,48),labelOrigin:new google.maps.Point(24,48*1.15)};var c=new google.maps.Marker({map:this.map,position:t,title:"You",icon:a,label:{text:"You",color:"black",fontFamily:"Arial",fontSize:"15px",fontWeight:"bold"},animation:google.maps.Animation.DROP,clickable:!0,cursor:"default"});this.currentLocationMarker=c}getCrowFlyMiles(t,o){var a=this.deg2rad(o.lat()-t.lat()),l=this.deg2rad(o.lng()-t.lng()),c=Math.sin(a/2)*Math.sin(a/2)+Math.cos(this.deg2rad(t.lat()))*Math.cos(this.deg2rad(o.lat()))*Math.sin(l/2)*Math.sin(l/2);return+(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))*6371/1.609).toFixed(2)}deg2rad(t){return t*(Math.PI/180)}zoomAllResults(){let t=new google.maps.LatLngBounds;this.results.forEach(o=>{o.geometry.viewport&&t.union(o.geometry.viewport)}),this.map.fitBounds(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.xA),e.Y36(L),e.Y36(x.Tx))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-normal-map"]],features:[e._Bn([_.xA])],decls:14,vars:12,consts:[["height","500px","width","900px",3,"center","zoom","options","mapInitialized"],[3,"directions",4,"ngIf"],[1,"flex","gap-2"],["id","pac-input","type","text","placeholder","Search location","pInputText","",1,"controls","w-25rem"],["label","Get location via GPS",1,"my-2",3,"disabled","onClick"],["class","my-2","label","Fuck Greggs",3,"disabled","onClick",4,"ngIf"],["class","my-2","label","View all",3,"disabled","onClick",4,"ngIf"],[3,"activeIndex","activeIndexChange"],[4,"ngFor","ngForOf"],["id","direction-info",1,"text-primary","text-lg","font-bold","bg-black-alpha-70","p-2"],[4,"ngIf"],[3,"directions"],["label","Fuck Greggs",1,"my-2",3,"disabled","onClick"],["label","View all",1,"my-2",3,"disabled","onClick"],["pTemplate","header"],[3,"placeResult","onGetDirections"]],template:function(t,o){1&t&&(e.TgZ(0,"div")(1,"google-map",0),e.NdJ("mapInitialized",function(a){return o.onMapReady(a)}),e.YNc(2,W,1,1,"map-directions-renderer",1),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"div",2),e._UZ(5,"input",3),e.qZA(),e.TgZ(6,"div",2)(7,"p-button",4),e.NdJ("onClick",function(){return o.getCurrentLocation()}),e.qZA(),e.YNc(8,X,1,1,"p-button",5),e.YNc(9,ee,1,1,"p-button",6),e.qZA(),e.TgZ(10,"p-accordion",7),e.NdJ("activeIndexChange",function(a){return o.activeLocationTab=a}),e.YNc(11,oe,3,1,"p-accordionTab",8),e.qZA()(),e.TgZ(12,"div",9),e.YNc(13,ne,2,2,"div",10),e.qZA()),2&t&&(e.xp6(1),e.Q6J("center",o.center)("zoom",o.zoom)("options",o.mapOptions),e.xp6(1),e.Q6J("ngIf",o.directionsResults),e.xp6(5),e.Q6J("disabled",!o.mapReady),e.xp6(1),e.Q6J("ngIf",o.currentLocation),e.xp6(1),e.Q6J("ngIf",o.currentLocation&&o.markers.length>0),e.xp6(1),e.Q6J("activeIndex",o.activeLocationTab),e.xp6(1),e.Q6J("ngForOf",o.results),e.xp6(1),e.Udp("display",o.directionDistanceMiles?"block":"none"),e.xp6(1),e.Q6J("ngIf",o.directionDistanceMiles))},dependencies:[g.sg,g.O5,H.jx,u.zx,x.b6,x.jG,B.o,D.UQ,D.US,V]}),n})();function ae(n,s){if(1&n&&(e.TgZ(0,"div")(1,"p"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.hij("Server: ",t.pingResponse,"")}}const se=[{path:"",component:(()=>{class n{constructor(t,o){this.router=t,this.normalServices=o,this.knobValue=69,this.pingSuccess=!1,this.pingResponse=""}ngOnInit(){this.changeKnobValueAfterSeconds(0)}pingServer(){this.normalServices.ping().subscribe({next:t=>{this.pingSuccess=!0,this.pingResponse=t.message},error:t=>{console.log("Ping failure"),this.pingSuccess=!1}})}changeKnobValueAfterSeconds(t){var o=this;return b(function*(){yield new Promise(i=>setTimeout(i,1e3*t)),o.knobValue=(o.knobValue+1)%100,o.changeKnobValueAfterSeconds(.3)})()}randomInt(t,o){return Math.floor(Math.random()*(o-t+1)+t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.F0),e.Y36(S))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:23,vars:2,consts:[[1,"p-2"],["header","Fuck Greggs",1,"p-2"],[1,"pi","pi-spin","pi-user",2,"font-size","1rem","color","red"],["header","Map",1,"p-2"],["header","Also",1,"p-2"],[1,"flex"],[3,"ngModel","ngModelChange"],[4,"ngIf"],["header","Nav",1,"p-2"],[1,"flex","gap-2"],["routerLink","../peaches"],["label","Peaches"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"p-card",1)(2,"p"),e._uU(3," You heard me "),e.qZA(),e.TgZ(4,"p"),e._uU(5,"The "),e._UZ(6,"i",2),e._uU(7," son "),e._UZ(8,"i",2),e._uU(9," of the founder may or may not be a convicted "),e.TgZ(10,"b"),e._uU(11,"[REDACTED]"),e.qZA()()(),e.TgZ(12,"p-card",3),e._UZ(13,"app-normal-map"),e.qZA(),e.TgZ(14,"p-card",4)(15,"p",5),e._uU(16," Look at my knob: "),e.TgZ(17,"p-knob",6),e.NdJ("ngModelChange",function(a){return o.knobValue=a}),e.qZA()(),e.YNc(18,ae,3,1,"div",7),e.qZA(),e.TgZ(19,"p-card",8)(20,"div",9)(21,"a",10),e._UZ(22,"p-button",11),e.qZA()()()()),2&t&&(e.xp6(17),e.Q6J("ngModel",o.knobValue),e.xp6(1),e.Q6J("ngIf",o.pingSuccess))},dependencies:[g.O5,d.yS,f.JJ,f.On,T.Z,u.zx,w.lH,ie]}),n})()}];let le=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(se),d.Bz]}),n})();var re=r(4949);let ce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.ez,le,g.ez,f.u5,T.d,u.hJ,w.dJ,d.Bz,re.S]}),n})()}}]);