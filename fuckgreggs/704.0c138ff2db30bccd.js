"use strict";(self.webpackChunkfuckgreggs=self.webpackChunkfuckgreggs||[]).push([[704],{4704:(I,f,i)=>{i.r(f),i.d(f,{HomeComponentModule:()=>H});var g=i(6895),p=i(4416);function v(o,s,n,t,r,a,c){try{var m=o[a](c),l=m.value}catch(P){return void n(P)}m.done?s(l):Promise.resolve(l).then(t,r)}var e=i(8256),u=i(529),Z=i(4766);let b=(()=>{class o{constructor(n){this.http=n}ping(){let n=class T{static getDefaultHeaders(){return new u.WM}}.getDefaultHeaders(),t=new u.LE;return this.http.get(`${Z.N.normalServicesEndpoint}/system/ping`,{params:t,headers:n})}}return o.\u0275fac=function(n){return new(n||o)(e.LFG(u.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var d=i(433),y=i(4247),h=i(6402),S=i(7261),k=i(4004),C=i(1892);let N=(()=>{class o{constructor(n){this.mapReady=!1,this.center={lat:51.01498224728667,lng:-3.102964996018339},this.zoom=17,this.markers=[]}ngOnInit(){}onMapReady(n){this.mapReady=!0,this.map=n}directionsRequest(n){const t={destination:{lat:51.014771936573396,lng:-3.097164806721585},origin:{lat:51.0155508487609,lng:-3.103241186893345},travelMode:google.maps.TravelMode.DRIVING};return n.route(t).pipe((0,k.U)(r=>r.result))}findNearbyPlace(){this.infowindow=new google.maps.InfoWindow;let n={type:"bakery",location:this.center,radius:1e3};new google.maps.places.PlacesService(this.map).nearbySearch(n,(r,a)=>this.getPlacesResults(r,a))}findSpecificPlace(){this.infowindow=new google.maps.InfoWindow;let n={query:"greggs",locationBias:{radius:500,center:this.center},fields:["name","geometry","place_id"]};new google.maps.places.PlacesService(this.map).findPlaceFromQuery(n,(r,a)=>this.getPlacesResults(r,a))}getPlacesResults(n,t){let r=!1;if(console.log(t,n),n=n??[],t===google.maps.places.PlacesServiceStatus.OK)for(var a=0;a<n.length;a++)this.createMarker(n[a]),!r&&!n[a].name.toLowerCase().includes("greggs")&&(r=!0,this.center=n[a].geometry.location)}createMarker(n){let r=n.name.toLowerCase().includes("greggs");var a=new google.maps.Marker({position:n.geometry.location,title:n.name,icon:{url:"assets/icons/middleFinger48.png",scaledSize:new google.maps.Size(48,48)},map:this.map,animation:google.maps.Animation.DROP,clickable:!0,cursor:r?"not-allowed":""});r||a.setIcon(null),this.markers.push(a),a.setMap(this.map)}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(C.Tx))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-normal-map"]],decls:4,vars:3,consts:[["height","500px","width","900px",3,"center","zoom","mapInitialized"],["label","Greggs",1,"my-2",3,"disabled","onClick"]],template:function(n,t){1&n&&(e.TgZ(0,"div")(1,"google-map",0),e.NdJ("mapInitialized",function(a){return t.onMapReady(a)}),e.qZA(),e._UZ(2,"br"),e.TgZ(3,"p-button",1),e.NdJ("onClick",function(){return t.findNearbyPlace()}),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("center",t.center)("zoom",t.zoom),e.xp6(2),e.Q6J("disabled",!t.mapReady||t.markers.length>0))},dependencies:[h.zx,C.b6]}),o})();function R(o,s){if(1&o&&(e.TgZ(0,"div")(1,"p"),e._uU(2),e.qZA()()),2&o){const n=e.oxw();e.xp6(2),e.hij("Server: ",n.pingResponse,"")}}const z=[{path:"",component:(()=>{class o{constructor(n,t){this.router=n,this.normalServices=t,this.knobValue=69,this.pingSuccess=!1,this.pingResponse=""}ngOnInit(){this.pingServer(),this.changeKnobValueAfterSeconds(0)}pingServer(){this.normalServices.ping().subscribe({next:n=>{this.pingSuccess=!0,this.pingResponse=n.message},error:n=>{console.log("Ping failure"),this.pingSuccess=!1}})}changeKnobValueAfterSeconds(n){var t=this;return function M(o){return function(){var s=this,n=arguments;return new Promise(function(t,r){var a=o.apply(s,n);function c(l){v(a,t,r,c,m,"next",l)}function m(l){v(a,t,r,c,m,"throw",l)}c(void 0)})}}(function*(){yield new Promise(r=>setTimeout(r,1e3*n)),t.knobValue=(t.knobValue+1)%100,t.knobValue>=99&&t.pingServer(),t.changeKnobValueAfterSeconds(.3)})()}randomInt(n,t){return Math.floor(Math.random()*(t-n+1)+n)}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(p.F0),e.Y36(b))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-home"]],decls:23,vars:2,consts:[[1,"p-2"],["header","Fuck Greggs",1,"p-2"],[1,"pi","pi-spin","pi-user",2,"font-size","1rem","color","red"],["header","Map",1,"p-2"],["header","Also",1,"p-2"],[1,"flex"],[3,"ngModel","ngModelChange"],[4,"ngIf"],["header","Nav",1,"p-2"],[1,"flex","gap-2"],["routerLink","../peaches"],["label","Peaches"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"p-card",1)(2,"p"),e._uU(3," You heard me "),e.qZA(),e.TgZ(4,"p"),e._uU(5,"The "),e._UZ(6,"i",2),e._uU(7," son "),e._UZ(8,"i",2),e._uU(9," of the founder may or may not be a convicted "),e.TgZ(10,"b"),e._uU(11,"[REDACTED]"),e.qZA()()(),e.TgZ(12,"p-card",3),e._UZ(13,"app-normal-map"),e.qZA(),e.TgZ(14,"p-card",4)(15,"p",5),e._uU(16," Look at my knob: "),e.TgZ(17,"p-knob",6),e.NdJ("ngModelChange",function(a){return t.knobValue=a}),e.qZA()(),e.YNc(18,R,3,1,"div",7),e.qZA(),e.TgZ(19,"p-card",8)(20,"div",9)(21,"a",10),e._UZ(22,"p-button",11),e.qZA()()()()),2&n&&(e.xp6(17),e.Q6J("ngModel",t.knobValue),e.xp6(1),e.Q6J("ngIf",t.pingSuccess))},dependencies:[g.O5,p.yS,d.JJ,d.On,y.Z,h.zx,S.lH,N]}),o})()}];let w=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.Bz.forChild(z),p.Bz]}),o})();var A=i(251);let H=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.ez,w,g.ez,d.u5,y.d,h.hJ,S.dJ,p.Bz,A.S]}),o})()}}]);